button_1_sgui = {
    scope = country
    effect = {
        set_variable = {
            name = construction_spending_level
            value = 0.2
        }
        custom_tooltip = {
            text = VERY_LOW_CONSTRUCTION_USAGE_PROPORTION_TT
        }
        custom_tooltip = {
            text = VERY_LOW_CONSTRUCTION_BUDGET_COST_TT
        }
    }
    is_valid = {
        has_variable = construction_spending_level
        custom_tooltip = {
            text = CURRENT_DESC
            NOT = {
                var:construction_spending_level = 0.2
            }
        }
    }

}

button_2_sgui = {
    scope = country
    effect = {
        set_variable = {
            name = construction_spending_level
            value = 0.4
        }
        custom_tooltip = {
            text = LOW_CONSTRUCTION_USAGE_PROPORTION_TT
        }
        custom_tooltip = {
            text = LOW_CONSTRUCTION_BUDGET_COST_TT
        }
    }
    is_valid = {
        has_variable = construction_spending_level
        custom_tooltip = {
            text = CURRENT_DESC
            NOT = {
                var:construction_spending_level = 0.4
            }
        }
    }
}
button_3_sgui = {
    scope = country
    effect = {
        set_variable = {
            name = construction_spending_level
            value = 0.6
        }
        custom_tooltip = {
            text = MEDIUM_CONSTRUCTION_USAGE_PROPORTION_TT
        }
        custom_tooltip = {
            text = MEDIUM_CONSTRUCTION_BUDGET_COST_TT
        }
    }
    is_valid = {
        has_variable = construction_spending_level
        custom_tooltip = {
            text = CURRENT_DESC
            NOT = {
                var:construction_spending_level = 0.6
            }
        }
    }
}
button_4_sgui = {
    scope = country
    effect = {
        set_variable = {
            name = construction_spending_level
            value = 0.8
        }
        custom_tooltip = {
            text = HIGH_CONSTRUCTION_USAGE_PROPORTION_TT
        }
        custom_tooltip = {
            text = HIGH_CONSTRUCTION_BUDGET_COST_TT
        }
    }
    is_valid = {
        has_variable = construction_spending_level
        custom_tooltip = {
            text = CURRENT_DESC
            NOT = {
                var:construction_spending_level = 0.8
            }
        }
    }
}
button_5_sgui = {
    scope = country
    effect = {
        set_variable = {
            name = construction_spending_level
            value = 1
        }
        custom_tooltip = {
            text = VERY_HIGH_CONSTRUCTION_USAGE_PROPORTION_TT
        }
        custom_tooltip = {
            text = VERY_HIGH_CONSTRUCTION_BUDGET_COST_TT
        }
    }
    is_valid = {
        has_variable = construction_spending_level
        custom_tooltip = {
            text = CURRENT_DESC
            NOT = {
                var:construction_spending_level = 1
            }
        }
    }
}

psc_save_real_construction_cost = {
    scope = country
	
    saved_scopes = {
		construction_good_expenses
	}
    effect = {
        set_variable = {
            name = real_construction_spending
            value = scope:construction_good_expenses
        }
        set_variable = {
            name = last_real_construction_check
            value = game_date
        }
    }
}

psc_test_show = {
    scope = country

    is_valid = {
        AND = {
            is_player = yes
            OR = {
                NOT = {
                    has_variable = last_real_construction_check
                }
                var:last_construction_run > var:last_real_construction_check
            }
        }
    }
}